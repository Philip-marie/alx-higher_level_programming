#!/usr/bin/python3
import os
import py_compile

# Get the Python file name from the environment variable PYFILE
pyfile = os.getenv("PYFILE")

if pyfile:
    try:
        # Compile the Python file and generate the output filename with 'c' suffix
        output_filename = f"{pyfile}c"
        py_compile.compile(pyfile, cfile=output_filename)
        print(f"Compiling {pyfile} ...")
    except Exception as e:
        print(f"Error: {e}")
else:
    print("Error: PYFILE environment variable is not set")
